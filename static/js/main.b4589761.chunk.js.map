{"version":3,"sources":["Log.tsx","Pointer.tsx","App.tsx","index.tsx"],"names":["initialFilter","monetizationpending","monetizationstart","monetizationprogress","monetizationstop","Log","useState","log","setLog","filter","setFilter","handleFilterChange","useCallback","event","target","name","checked","useEffect","monetization","document","addEventListener","handleMonetization","removeEventListener","type","JSON","stringify","detail","filterSet","Set","Object","entries","map","value","onChange","has","tipbot","stronghold","Pointer","pointer","setPointer","handleChange","Helmet","content","App","ReactDOM","render","getElementById"],"mappings":"2YAQA,IAAMA,EAAgB,CACpBC,qBAAqB,EACrBC,mBAAmB,EACnBC,sBAAsB,EACtBC,kBAAkB,GA6DLC,EA1DC,WAAO,IAAD,EACEC,mBAA6B,IAD/B,mBACbC,EADa,KACRC,EADQ,OAEQF,mBAASN,GAFjB,mBAEbS,EAFa,KAELC,EAFK,KAIdC,EAAqBC,uBAAY,SAACC,GAA0C,IAAD,EACrDA,EAAMC,OAAxBC,EADuE,EACvEA,KAAMC,EADiE,EACjEA,QAEdN,GAAU,SAAAD,GAAM,O,yWAAA,IACXA,EADW,eAEbM,EAAOC,SAET,IAEHC,qBAAU,WAAO,IACPC,EAAiBC,SAAjBD,aAER,GAAKA,EAcL,OALAA,EAAaE,iBAAiB,sBAAuBC,GACrDH,EAAaE,iBAAiB,oBAAqBC,GACnDH,EAAaE,iBAAiB,uBAAwBC,GACtDH,EAAaE,iBAAiB,mBAAoBC,GAE3C,WACLH,EAAaI,oBAAoB,sBAAuBD,GACxDH,EAAaI,oBAAoB,oBAAqBD,GACtDH,EAAaI,oBAAoB,uBAAwBD,GACzDH,EAAaI,oBAAoB,mBAAoBD,IAhBvD,SAASA,EAAoBR,GAC3BL,GAAO,SAAAD,GAAG,OACR,CAACM,EAAMU,KAAMC,KAAKC,UAAUZ,EAAMa,OAAQ,KAAM,KADxC,mBAELnB,UAeN,IAEH,IAAMoB,EAAY,IAAIC,IAAIC,OAAOC,QAAQrB,GAAQA,QAAO,0CAAsBsB,KAAI,2CAElF,OACE,oCACGF,OAAOC,QAAQrB,GAAQsB,KAAI,mCAAEhB,EAAF,KAAQiB,EAAR,YAC1B,+BACE,2BAAOC,SAAUtB,EAAoBY,KAAK,WAAWP,QAASgB,EAAOjB,KAAMA,IAC1EA,MAGJR,EAAIE,QAAO,gBAAEM,EAAF,2BAAYY,EAAUO,IAAInB,MAAOgB,KAAI,mCAAEhB,EAAF,KAAQW,EAAR,YAC/C,oCACE,4BAAKX,GACL,6BAAMW,S,OC/DVS,EAAS,6CACTC,EAAa,yDA2BJC,EAzBK,WAAO,IAAD,EACM/B,mBAAS6B,GADf,mBACjBG,EADiB,KACRC,EADQ,KAElBC,EAAe5B,uBAAY,SAACC,GAAD,OAA0C0B,EAAW1B,EAAMC,OAAOkB,SAAQ,IAE3G,OACE,oCACE,kBAACS,EAAA,OAAD,KACE,0BACE1B,KAAK,eACL2B,QAASJ,KAGb,+BACE,2BAAOf,KAAK,QAAQR,KAAK,UAAUiB,MAAOG,EAAQF,SAAUO,EAAcxB,QAASsB,IAAYH,IADjG,cAIA,+BACE,2BAAOZ,KAAK,QAAQR,KAAK,UAAUiB,MAAOI,EAAYH,SAAUO,EAAcxB,QAASsB,IAAYF,IADrG,cAIA,6BAAME,KCXGK,EAVC,WACd,OACE,oCACE,uDACA,kBAAC,EAAD,MACA,kBAAC,EAAD,QCLNC,IAASC,OAAO,kBAAC,EAAD,MAAS1B,SAAS2B,eAAe,U","file":"static/js/main.b4589761.chunk.js","sourcesContent":["import React, { FC, useState, useEffect, useCallback, ChangeEvent } from \"react\";\n\ndeclare global {\n  interface Document {\n    monetization?: any\n  }\n}\n\nconst initialFilter = {\n  monetizationpending: true,\n  monetizationstart: true ,\n  monetizationprogress: false,\n  monetizationstop: true\n}\n\nconst Log: FC = () => {\n  const [log, setLog] = useState<[string, string][]>([])\n  const [filter, setFilter] = useState(initialFilter)\n\n  const handleFilterChange = useCallback((event: ChangeEvent<HTMLInputElement>) => {\n    const { name, checked } = event.target\n\n    setFilter(filter => ({\n      ...filter,\n      [name]: checked\n    }))\n  }, [])\n\n  useEffect(() => {\n    const { monetization } = document\n\n    if (!monetization) return\n\n    function handleMonetization (event: any) {\n      setLog(log => [\n        [event.type, JSON.stringify(event.detail, null, 2)],\n        ...log\n      ])\n    }\n\n    monetization.addEventListener('monetizationpending', handleMonetization)\n    monetization.addEventListener('monetizationstart', handleMonetization)\n    monetization.addEventListener('monetizationprogress', handleMonetization)\n    monetization.addEventListener('monetizationstop', handleMonetization)\n\n    return () => {\n      monetization.removeEventListener('monetizationpending', handleMonetization)\n      monetization.removeEventListener('monetizationstart', handleMonetization)\n      monetization.removeEventListener('monetizationprogress', handleMonetization)\n      monetization.removeEventListener('monetizationstop', handleMonetization)\n    }\n  }, [])\n\n  const filterSet = new Set(Object.entries(filter).filter(([, value]) => value).map(([name]) => name))\n\n  return (\n    <>\n      {Object.entries(filter).map(([name, value]) => (\n        <label>\n          <input onChange={handleFilterChange} type='checkbox' checked={value} name={name} />\n          {name}\n        </label>\n      ))}\n      {log.filter(([name]) => filterSet.has(name)).map(([name, detail]) => (\n        <>\n          <h3>{name}</h3>\n          <pre>{detail}</pre>\n        </>\n      ))}\n    </>\n  )\n}\n\nexport default Log\n","import React, { FC, useState, useCallback, ChangeEvent } from 'react'\nimport { Helmet } from 'react-helmet'\n\nconst tipbot = '$coil.xrptipbot.com/7UT9ayR4TgK5U4sqcd3y_g'\nconst stronghold = '$pay.stronghold.co/1a1263c3795a7d24987bf8ff352503fdab9'\n\nconst Pointer: FC = () => {\n  const [pointer, setPointer] = useState(tipbot)\n  const handleChange = useCallback((event: ChangeEvent<HTMLInputElement>) => setPointer(event.target.value), [])\n\n  return (\n    <>\n      <Helmet>\n        <meta\n          name='monetization'\n          content={pointer}\n        />\n      </Helmet>\n      <label>\n        <input type='radio' name='pointer' value={tipbot} onChange={handleChange} checked={pointer === tipbot} />\n        XRP TipBot\n      </label>\n      <label>\n        <input type='radio' name='pointer' value={stronghold} onChange={handleChange} checked={pointer === stronghold} />\n        Stronghold\n      </label>\n      <pre>{pointer}</pre>\n    </>\n  )\n}\n\nexport default Pointer\n","import React, { FC } from 'react';\n\nimport Log from './Log';\nimport Pointer from './Pointer';\n\nconst App: FC = () => {\n  return (\n    <>\n      <h1>Web Monetization Events</h1>\n      <Pointer />\n      <Log />\n    </>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}